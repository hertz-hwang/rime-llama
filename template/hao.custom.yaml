patch:
  # schema/name: è±¹ç¢¼
  schema/dependencies/+:
  # ç•¶ä¸€å€‹é–‹é—œæ»¿è¶³ä»¥ä¸‹æ¡ä»¶æ™‚, å…¶è®ŠåŒ–å€¼æœƒè¨˜æ†¶åœ¨ *user.yaml* ä¸­:
  # 1. è©²é–‹é—œé …çš„ *reset* å­—æ®µç½®ç©º: å­—æ®µä¸å­˜åœ¨æˆ–ä¸æŒ‡å®šå€¼.
  # 2. è©²é–‹é—œé …å¯«åœ¨ *default.yaml* (*default.custom.yaml*) çš„ `switcher/save_options` åˆ—è¡¨ä¸­,
  #   ä¾‹å¦‚åœ¨ *default.custom.yaml* ä¸­å¯«å…¥: `patch/switcher/save_options: [ single_char, embeded_cands ]`.
  # 3. é–‹é—œé …çš„è®Šå‹•æ˜¯é€šé *æ–¹æ¡ˆé¸å–®* æˆ– `zhelp` æ“ä½œçš„; ä¹Ÿå°±æ˜¯èª¬å¦‚æœé€šéå¿«æ·éµæ“ä½œ, å°±ä¸æœƒè¨˜æ†¶å€¼.
  switches/@0/reset: 0 # ä¸­æ–‡æ¨™é»Â·è¥¿æ–‡æ¨™é»
  switches/@1/reset: 0 # åŠè§’Â·å…¨è§’
  switches/@2/reset: 0 # æ³¨è§£: é—œÂ·ä¸€Â·äºŒÂ·ä¸‰Â·å››
  switches/@3/reset: 0 # ä¸éæ¿¾Â·åƒ…å¸¸ç”¨å­—
  switches/@4/reset: 0 # å››ç¢¼å­—è©Â·å››ç¢¼å…¨å–®Â·åƒ…ä¸‰ç¢¼
  switches/@5/reset: 0 # æ™ºèƒ½çµ„è©Â·ç´”å–®æ¨¡å¼
  switches/@6/reset: 1 # æ™®é€šæ¨¡å¼Â·åµŒå…¥ç·¨ç¢¼
  switches/@7/reset: 0 # ç°¡æ½”æ¨¡å¼Â·ç·¨ç¢¼é æ¸¬
  switches/@8/reset: 1 # ç„¡IVDè¯æƒ³Â·IVDè¯æƒ³
  switches/@9/reset: 0 # ä¸­æ–‡æ¨¡å¼Â·ASCIIæ¨¡å¼
  switches/+:
  key_binder/bindings/+:
  ascii_composer/switch_key/+:
    # å·¦Shiftä¸Šå±ç¼–ç , å³Shiftä¸Šå±å€™é€‰
    Shift_L: commit_code
    Shift_R: commit_text
    Control_L: noop
    Control_R: noop
    Caps_Lock: clear
    Eisu_toggle: clear
  recognizer/patterns/+:
    macro_calc: "^/calc(/[a-zA-Z0-9\\+\\-\\*\\(\\)\\^\\.%]*)*$"
    macro_smart: "^/(addsmart|delsmart)(/[a-zA-Z0-9]*)*$"
    macro_unicode: "^/uni(/[a-zA-Z0-9]*)*$"
  punctuator/half_shape/+:
    '<': [ ã€Š, ã€ˆ, Â«, â€¹, Ë‚, Ë± ]
    '>': [ ã€‹, ã€‰, Â», â€º, Ëƒ, Ë² ]
    #'/': '/'
    '\': 'ã€'
    '`': '`'
    '~': '~'
    '@': '@'
    '#': '#'
    '%': '%'
    '$': [ 'ï¿¥', '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤', 'â‚©' ]
    '*': '*'
    '=': [ '=', '	' ]
    ';': [ 'ï¼›', 'ï¼š' ]
    '[': 'ã€Œ'
    ']': 'ã€'
    '{': [ 'ã€', "ã€", "ã€–", "ã€Œ", "{", "ï½›" ]
    '}': [ 'ã€', "ã€‘", "ã€—", "ã€", "}", "ï½" ]
  editor/bindings/+:
    # å›è½¦æ¸…ç©ºç¼–ç 
    Return: cancel
  rev_div/comment_format:
    - xform/\(([^,]*),([^,]*),([^,]*),([^,]*)\)/($2)/
    - xform/\)\(/,/
  # è‡ªå®šç¾©åŠŸèƒ½éµ
  hao/funckeys/+:
    clearact/+: [ 0xff1b ]
  # è‡ªå®šç¾©å®
  # å…ˆä¸ºå®å‘½å, å¦‚ *mymacro*, åˆ™å°‡å…¶æ·»åŠ åˆ° *macros* ä¸‹,
  # å†åœ¨ *mymacro* ä¸‹æ·»åŠ è‹¥å¹²å€™é¸å®, æ¯å€‹å€™é¸å®éƒ½éœ€æŒ‡å®šä¸€å€‹ *type*.
  # å½“å‰æ”¯æŒçš„å®é¡å‹:
  # *tip*:    {type: tip,    name: display,     text: commit},                     å…¶ä¸­ *text* ä¸ºå¯é¸é ….
  # *switch*: {type: switch, name: switch_name, states: [off_display,on_display]}, é¡ä¼¼ *schema/switches*.
  # *radio*:  {type: radio,  names: [s1,s2,s3], states: [d1,d2,d3]},               é¡ä¼¼ *schema/switches* ä¹‹ *options*.
  # *shell*:  {type: shell,  name: display,     cmd: shell_cmd,   text: true},     é¸ä¸­æ—¶åŸ·è¡Œ *shell_cmd* å‘½ä»¤, *text* å¯é¸, è¨­ä¸º true æ™‚æ”¶é›†ä¸¦æäº¤å‘½ä»¤è¼¸å‡º. å¯é¸çš„é¡å¤–åƒæ•¸ *hijack* çˆ² true æ™‚, æ””æˆªæ‰€æœ‰ *ascii* è¼¸å…¥, ä¸»è¦æ˜¯æ•¸å­—éµ.
  # *eval*:   {type: eval,   name: display,     expr: "local a='bar'; return a"},  å…¶ä¸­ *name* ä¸ºå¯é¸é …, *expr* å¿…é ˆæ˜¯å€‹ *return* èªå¥, è“‹ *lua* å°‡ä»¥ "function() <expr> end" æ–¹å¼çµ„è£å‡½æ•¸ä¸¦èª¿ç”¨.
  # ä¾‹:
  # macros:
  #   mymacro:
  #     - type: tip
  #       name: åƒ…æç¤º
  #     - type: tip
  #       name: å¿«æ·çŸ­èª
  #       text: é€™æ˜¯çŸ­èªå†…å®¹
  #     - type: switch
  #       name: ascii_mode
  #       states: [ æ¼¢å­—, è‹±æ–‡ ]
  #     - type: shell
  #       name: åŸ·è¡Œshellå‘½ä»¤
  #       cmd: /bin/sh -c "date >/tmp/date.txt"
  #     - type: eval
  #       expr: return tostring(os.time())
  hao/macros/+:
    repo:
      - type: shell
        name: âš›è±¹ç¢¼æºç 
        cmd: url="https://github.com/hertz-hwang/rime-hao" &&
          type open && open "${url}" ||
          type xdg-open && xdg-open "${url}" ||
          echo "${url}"
      - type: shell
        name: âš›å­—ç»Ÿ
        cmd: url="https://zi.tools/" &&
          type open && open "${url}" ||
          type xdg-open && xdg-open "${url}" ||
          echo "${url}"
    quick:
      - type: tip
        name: å¿«æ·çŸ­èª
      - type: tip
        name: â˜éƒµç®±
        text: hertz@26hz.com.cn
      - type: tip
        name: â˜QQ
        text: "1121144145"
    calc:
      # lua å°è±¡ç¤ºä¾‹, è¿”å›ä¸€å€‹ {
      #   peek = function(self, args) ... end -> string, -- ç•¶ name çˆ²ç©ºæ™‚, å€™é¸æ””é¡¯ç¤ºæ­¤å€¼
      #   eval = function(self, args) ... end -> string, -- ç•¶æŒ‰ä¸‹ç©ºæ ¼æˆ–é¸é‡éµå¾Œ, ä¸Šå±æ­¤å€¼
      # } å°è±¡
      # ç°¡æ˜“è¨ˆç®—å™¨
      - type: eval
        hijack: true
        expr: return require("hao.custom").easy_calc()
    smart/+:
      - type: eval
        name: â‡ªè©å…¸è¼‰å…¥
        expr: return haoCore.word_trie:load_dict() or ""
      - type: eval
        name: âŒ«æ¸…ç©º
        expr: return haoCore.word_trie:clear_dict() or ""
      - type: eval
        name: â†ªå°å‡º
        expr: return require("hao.custom").export_smart()
      - type: eval
        name: â†©å°å…¥
        expr: return require("hao.custom").import_smart()
    addsmart:
      - type: eval
        hijack: true
        expr: return require("hao.custom").add_smart()
    delsmart:
      - type: eval
        hijack: true
        expr: return require("hao.custom").del_smart()
    uni:
      - type: eval
        hijack: true
        expr: return require("hao.custom").unicode()
    dist:
      - type: eval
        expr: return require("hao.custom").librime_version()
      - type: eval
        expr: return require("hao.custom").librime_dist_info()
  # è‡ªå®šç¾©æ·å¾‘
  # åœ¨æœ‰è¼¸å…¥æ¡†çš„æ¢ä»¶ä¸‹, æŒ‰ `Ctrl` çµ„åˆéµè§¸ç™¼
  hao/accel/+:
    # ctrl-k åµŒå…¥ç·¨ç¢¼æˆªåœ–
    # åƒ…æ”¯æŒ linux-wayland å’Œ mac ç’°å¢ƒ
    # linux-wayland: ä¾è³´ pango å’Œ wl-clipboard
    # mac: ä¾è³´ pango å’Œ impbcopy
    - key: 0x6b
      type: eval
      expr: return require("hao.custom").capture_embeded()
    # ctrl-0 ä¸Šå±åµŒå…¥ç·¨ç¢¼
    - key: 0x30
      type: eval
      expr: return require("hao.custom").commit_embeded()
  # menu/page_size: 5 # Change number of candidates
  # style/layout/margin_x: -1 # Hide candidates bar
  # style/horizontal: true
  # style/inline_preedit: false
  embeded_cands/+:
    first_format: "ğŸ†${Stash}[${å€™é¸}]${Code}${Comment}"
    next_format: "${Stash}${å€™é¸}${Seq}${Comment}"
  # è§£æ³¨é‡Šä»¥ä¸‹å†…å®¹, å¹¶å¤åˆ¶rime.lua, ä»¥å…¼å®¹æ—§ç‰ˆlibrime-lua
  # engine/processors:
  #   - lua_processor@hao_core_processor@hao
  #   - ascii_composer
  #   - recognizer
  #   - key_binder
  #   - speller
  #   - punctuator
  #   - selector
  #   - navigator
  #   - express_editor
  # engine/translators:
  #   - punct_translator
  #   - table_translator@symbols
  #   - history_translator@history
  #   - reverse_lookup_translator@rev_pinyin
  #   - lua_translator@hao_core_translator@hao
  # engine/filters:
  #   - simplifier
  #   - uniquifier
  #   - simplifier@rev_div
  #   - simplifier@division.lv1
  #   - simplifier@division.lv2
  #   - simplifier@division.lv3
  #   - simplifier@division.lv4
  #   - lua_filter@hao_embeded_cands@embeded_cands
